{% extends 'portal/base.html' %}
{% load static %}
{% load extra_tags %}

{% block styles %}
<link rel="stylesheet" type="text/css" href="{% static 'portal/css/order.css' %}">
{% endblock %}

{% block content %}

<div class="container space-around flex">
    <h5 class="orders subtitle text-center">PEDIDO | Novo</h5>
    <button form="order" class="btn btn-secondary btn-sm btn-salvar">SALVAR</button>
</div>
<div class="container">
    <form id="order" action="/pedido" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            <label for="customer">Cliente</label>
            <input type="text" class="form-control" id="customer" name="customer">
        </div>
        <div class="form-group">
            <label for="ambiente">Obervações Gerais</label>
            <textarea form="order" class="form-control" id="ambiente" rows="3" name="description"></textarea>
        </div>
        <div class="form-group flex space-between">
            <div>
                <label for="salesmen">Vendedor</label>

                <select class="form-control" id="salesmen" name="salesmen">
                    {% for item in salesmen %}
                        <option value="{{item.id}}">{{item.first_name}} {{item.last_name}}</option>
                    {% endfor %}
                </select>

            </div>
            <div>
                <label for="inspector">Conferente</label>
                <select class="form-control" id="inspector" name="inspector">
                    {% for item in inspector %}
                        <option value="{{item.id}}">{{item.first_name}} {{item.last_name}}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="container space-around flex">
            <div class="btn-group dropright">
                <button type="button" class="btn btn-secondary dropdown-toggle btn-sm" data-toggle="dropdown"
                        aria-haspopup="true"
                        aria-expanded="false">
                    Adicionar
                </button>
                <div class="dropdown-menu">

                    {% for room in rooms %}

                    <a class="dropdown-item" href="#" onclick="addRoom('{{room.name|upper}}',
                        {{room.labels.all|get_value_in_qs:'name'}},
                        {{room.products.all|get_value_in_qs:'name'}})">{{room.name | upper}}</a>

                    {% endfor %}

                </div>
            </div>

            <div class="btn-group dropright">
                <button type="button" class="btn btn-secondary dropdown-toggle btn-sm" data-toggle="dropdown"
                        aria-haspopup="true"
                        aria-expanded="false">
                    Consultar
                </button>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                </div>
            </div>

        </div>

        <div id="carouselRoom" class="carousel slide" data-interval="false">
            <div class="carousel-inner">

            </div>
            <a class="carousel-control-prev" href="#carouselRoom" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselRoom" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
            <ol class="carousel-indicators">

            </ol>
        </div>
    </form>
</div>


{% endblock %}

{% block script %}
<script src="{% static 'portal/js/order.js' %}"></script>
{% endblock %}